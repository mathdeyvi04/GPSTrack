\doxysection{Track\+Sense Class Reference}
\hypertarget{classTrackSense}{}\label{classTrackSense}\index{TrackSense@{TrackSense}}


Classe responsável por obter o tracking da carga.  




{\ttfamily \#include $<$Track\+Sense.\+hpp$>$}



Collaboration diagram for Track\+Sense\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classTrackSense_1_1GPSData}{GPSData}}
\begin{DoxyCompactList}\small\item\em Classe responsável por representar os dados do GPS. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classTrackSense_a9bb33e84e3284b8d9d29803fe2b8780b}{Track\+Sense}} (const std\+::string \&ip\+\_\+destino\+\_\+, int porta\+\_\+destino\+\_\+, const std\+::string \&porta\+\_\+serial\+\_\+)
\begin{DoxyCompactList}\small\item\em Construtor da Classe. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classTrackSense_a99b92a73aca77c357cea5b34dad60cec}{\texorpdfstring{$\sim$}{\string~}\+Track\+Sense}} ()
\begin{DoxyCompactList}\small\item\em Destrutor da classe. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTrackSense_aea41a182986beda916a8f7ad8f0e5699}{init}} ()
\begin{DoxyCompactList}\small\item\em Inicializa a thread trabalhadora. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTrackSense_afbc696c7cc07f34485e81871688265d2}{stop}} ()
\begin{DoxyCompactList}\small\item\em Finaliza a thread de trabalho de forma segura. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classTrackSense_a5e9be6e571e841d281e905b20f9da2b5}{open\+\_\+serial}} ()
\begin{DoxyCompactList}\small\item\em Abre e configura a porta serial para comunicação o sensor. \end{DoxyCompactList}\item 
std\+::string \mbox{\hyperlink{classTrackSense_a954c90d64e09507529def496951a3429}{read\+\_\+serial}} ()
\begin{DoxyCompactList}\small\item\em Lê dados da porta serial até encontrar uma quebra de linha. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classTrackSense_a90d9871caac61724acd6697d89599909}{loop}} ()
\begin{DoxyCompactList}\small\item\em Executa o loop principal de leitura, interpretação e envio de dados via UDP. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::vector$<$ std\+::string $>$ \mbox{\hyperlink{classTrackSense_a20c602897f0d8fa8cd70008bd3c739bf}{split}} (const std\+::string \&string\+\_\+de\+\_\+entrada, char separador=\textquotesingle{},\textquotesingle{})
\begin{DoxyCompactList}\small\item\em Função estática auxiliar para separar uma string em vetores de string. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::string \mbox{\hyperlink{classTrackSense_abbf79a6d1cf8d89486fe6c3718d5c7b8}{ip\+\_\+destino}}
\item 
int \mbox{\hyperlink{classTrackSense_ab480d6378e9ed0ca993495171ff9aeab}{porta\+\_\+destino}}
\item 
int \mbox{\hyperlink{classTrackSense_a8e8746954916194808e2112e3f50bcb1}{sockfd}}
\item 
sockaddr\+\_\+in \mbox{\hyperlink{classTrackSense_a7a992a445efffc5f6eebe8eb76324395}{addr\+\_\+dest}}
\item 
std\+::thread \mbox{\hyperlink{classTrackSense_ae9092579ff3e13d06dc0ddab1ca1f270}{worker}}
\item 
std\+::atomic$<$ bool $>$ \mbox{\hyperlink{classTrackSense_add4526a7c931f7cbe808bd4d5fb55935}{is\+\_\+exec}} \{false\}
\item 
\mbox{\hyperlink{classTrackSense_1_1GPSData}{GPSData}} \mbox{\hyperlink{classTrackSense_a6cea0d534c0c0736da12977edb09478f}{last\+\_\+data\+\_\+given}}
\item 
std\+::string \mbox{\hyperlink{classTrackSense_a95b152ab2344ef7381b868146ef0f8aa}{porta\+\_\+serial}}
\item 
int \mbox{\hyperlink{classTrackSense_a1ce4c8d22159cc5cae468e259f46e4d8}{fd\+\_\+serial}} = -\/1
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Classe responsável por obter o tracking da carga. 

Responsabilidades\+:
\begin{DoxyItemize}
\item Obter os dados do sensor NEO6\+MV2
\item Interpretar esses dados, gerando informações
\item Enviar as informações via socket UDP em formato CSV
\end{DoxyItemize}

Cada uma dessas responsabilidades está associada a um método da classe, respectivamente\+:


\begin{DoxyItemize}
\item \doxylink{classTrackSense_a954c90d64e09507529def496951a3429}{read\+\_\+serial()}
\item parsing()
\item send()
\end{DoxyItemize}

Os quais estarão sendo repetidamente executados pela thread worker a fim de manter a continuidade de informações.

Não há necessidade de mais explicações, já que o fluxo de funcionamento é simples. 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classTrackSense_a9bb33e84e3284b8d9d29803fe2b8780b}\label{classTrackSense_a9bb33e84e3284b8d9d29803fe2b8780b} 
\index{TrackSense@{TrackSense}!TrackSense@{TrackSense}}
\index{TrackSense@{TrackSense}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{TrackSense()}{TrackSense()}}
{\footnotesize\ttfamily Track\+Sense\+::\+Track\+Sense (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{ip\+\_\+destino\+\_\+,  }\item[{int}]{porta\+\_\+destino\+\_\+,  }\item[{const std\+::string \&}]{porta\+\_\+serial\+\_\+ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Construtor da Classe. 


\begin{DoxyParams}{Parameters}
{\em ip\+\_\+destino\+\_\+} & Endereço IP de destiono. \\
\hline
{\em porta\+\_\+destino\+\_\+} & Porta UDP de destino \\
\hline
{\em porta\+\_\+serial\+\_\+} & Caminho da porta serial\\
\hline
\end{DoxyParams}
Inicializa a comunicação UDP e abre a comunicação serial. Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_a9bb33e84e3284b8d9d29803fe2b8780b_cgraph}
\end{center}
\end{figure}
\Hypertarget{classTrackSense_a99b92a73aca77c357cea5b34dad60cec}\label{classTrackSense_a99b92a73aca77c357cea5b34dad60cec} 
\index{TrackSense@{TrackSense}!````~TrackSense@{\texorpdfstring{$\sim$}{\string~}TrackSense}}
\index{````~TrackSense@{\texorpdfstring{$\sim$}{\string~}TrackSense}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{\texorpdfstring{$\sim$}{\string~}TrackSense()}{\string~TrackSense()}}
{\footnotesize\ttfamily Track\+Sense\+::\texorpdfstring{$\sim$}{\string~}\+Track\+Sense (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Destrutor da classe. 

Realiza a limpeza adequada dos recursos da classe, garantindo o término seguro das operações.

A ordem de operações é importante\+:
\begin{DoxyEnumerate}
\item Interrompe a thread de execução
\item Fecha o socket de comunicação
\item Fecha a porta serial 
\end{DoxyEnumerate}Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_a99b92a73aca77c357cea5b34dad60cec_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classTrackSense_aea41a182986beda916a8f7ad8f0e5699}\label{classTrackSense_aea41a182986beda916a8f7ad8f0e5699} 
\index{TrackSense@{TrackSense}!init@{init}}
\index{init@{init}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{init()}{init()}}
{\footnotesize\ttfamily void Track\+Sense\+::init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Inicializa a thread trabalhadora. 

Garante que apenas uma única instância da thread de execução será iniciada, utilizando um flag atômico para controle de estado. Se a thread já estiver em execução, a função retorna imediatamente sem realizar nova inicialização. Ao iniciar, exibe uma mensagem colorida no terminal e cria uma thread worker que executa o loop principal de leitura e comunicação. Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_aea41a182986beda916a8f7ad8f0e5699_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{classTrackSense_aea41a182986beda916a8f7ad8f0e5699_icgraph}
\end{center}
\end{figure}
\Hypertarget{classTrackSense_a90d9871caac61724acd6697d89599909}\label{classTrackSense_a90d9871caac61724acd6697d89599909} 
\index{TrackSense@{TrackSense}!loop@{loop}}
\index{loop@{loop}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{loop()}{loop()}}
{\footnotesize\ttfamily void Track\+Sense\+::loop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Executa o loop principal de leitura, interpretação e envio de dados via UDP. 

Esta função realiza continuamente a leitura de dados da porta serial, interpreta as mensagens GPS no formato GPGGA, armazena os dados processados e, se desejado, os exibe em formato CSV.

O loop executa enquanto a flag de execução estiver ativa, com uma pausa de 1 segundo entre cada iteração para evitar consumo excessivo de CPU. \texorpdfstring{$<$}{<} Apenas uma flag para sabermos se houve interpretaçãoHere is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_a90d9871caac61724acd6697d89599909_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_a90d9871caac61724acd6697d89599909_icgraph}
\end{center}
\end{figure}
\Hypertarget{classTrackSense_a5e9be6e571e841d281e905b20f9da2b5}\label{classTrackSense_a5e9be6e571e841d281e905b20f9da2b5} 
\index{TrackSense@{TrackSense}!open\_serial@{open\_serial}}
\index{open\_serial@{open\_serial}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{open\_serial()}{open\_serial()}}
{\footnotesize\ttfamily void Track\+Sense\+::open\+\_\+serial (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Abre e configura a porta serial para comunicação o sensor. 

Estabelece a conexão serial utilizando a porta serial especificada. Todos os parâmetros necessários para uma comunicação estável com o dispositivo, incluindo velocidade, formato de dados e controle de fluxo são setados.

A porta é aberta em modo somente leitura (O\+\_\+\+RDONLY) e em modo raw, no qual não há processamento adicional dos caracteres.

Aplicamos as seguintes configurações\+:


\begin{DoxyItemize}
\item 9600 bauds
\item 8 bits de dados
\item Sem paridade
\item 1 bit de parada 
\end{DoxyItemize}Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_a5e9be6e571e841d281e905b20f9da2b5_icgraph}
\end{center}
\end{figure}
\Hypertarget{classTrackSense_a954c90d64e09507529def496951a3429}\label{classTrackSense_a954c90d64e09507529def496951a3429} 
\index{TrackSense@{TrackSense}!read\_serial@{read\_serial}}
\index{read\_serial@{read\_serial}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{read\_serial()}{read\_serial()}}
{\footnotesize\ttfamily std\+::string Track\+Sense\+::read\+\_\+serial (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Lê dados da porta serial até encontrar uma quebra de linha. 


\begin{DoxyItemize}
\item Caracteres de carriage return (\textquotesingle{}\textbackslash{}r\textquotesingle{}) são ignorados durante a leitura.
\item A função termina quando encontra \textquotesingle{}~\newline
\textquotesingle{} ou quando não há mais dados para ler.
\item A leitura é feita caractere por caractere para garantir processamento correto dos dados do GPS que seguem protocolo NMEA. 
\end{DoxyItemize}Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_a954c90d64e09507529def496951a3429_icgraph}
\end{center}
\end{figure}
\Hypertarget{classTrackSense_a20c602897f0d8fa8cd70008bd3c739bf}\label{classTrackSense_a20c602897f0d8fa8cd70008bd3c739bf} 
\index{TrackSense@{TrackSense}!split@{split}}
\index{split@{split}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{split()}{split()}}
{\footnotesize\ttfamily static std\+::vector$<$ std\+::string $>$ Track\+Sense\+::split (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{string\+\_\+de\+\_\+entrada,  }\item[{char}]{separador = {\ttfamily \textquotesingle{},\textquotesingle{}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Função estática auxiliar para separar uma string em vetores de string. 


\begin{DoxyParams}{Parameters}
{\em string\+\_\+de\+\_\+entrada} & String que será fatiada. \\
\hline
{\em separador} & Caractere que será a flag de separação.\\
\hline
\end{DoxyParams}
Similar ao método {\ttfamily split} do python, utiliza \textquotesingle{},\textquotesingle{} caractere separador default. Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_a20c602897f0d8fa8cd70008bd3c739bf_icgraph}
\end{center}
\end{figure}
\Hypertarget{classTrackSense_afbc696c7cc07f34485e81871688265d2}\label{classTrackSense_afbc696c7cc07f34485e81871688265d2} 
\index{TrackSense@{TrackSense}!stop@{stop}}
\index{stop@{stop}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{stop()}{stop()}}
{\footnotesize\ttfamily void Track\+Sense\+::stop (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Finaliza a thread de trabalho de forma segura. 

Esta função realiza o desligamento controlado da thread de trabalho. Primeiro, altera o flag de execução para falso usando operação atômica. Se a thread estiver joinable (executando), imprime uma mensagem de confirmação e realiza a operação de join para aguardar a finalização segura da thread. Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classTrackSense_afbc696c7cc07f34485e81871688265d2_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{classTrackSense_a7a992a445efffc5f6eebe8eb76324395}\label{classTrackSense_a7a992a445efffc5f6eebe8eb76324395} 
\index{TrackSense@{TrackSense}!addr\_dest@{addr\_dest}}
\index{addr\_dest@{addr\_dest}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{addr\_dest}{addr\_dest}}
{\footnotesize\ttfamily sockaddr\+\_\+in Track\+Sense\+::addr\+\_\+dest\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classTrackSense_a1ce4c8d22159cc5cae468e259f46e4d8}\label{classTrackSense_a1ce4c8d22159cc5cae468e259f46e4d8} 
\index{TrackSense@{TrackSense}!fd\_serial@{fd\_serial}}
\index{fd\_serial@{fd\_serial}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{fd\_serial}{fd\_serial}}
{\footnotesize\ttfamily int Track\+Sense\+::fd\+\_\+serial = -\/1\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classTrackSense_abbf79a6d1cf8d89486fe6c3718d5c7b8}\label{classTrackSense_abbf79a6d1cf8d89486fe6c3718d5c7b8} 
\index{TrackSense@{TrackSense}!ip\_destino@{ip\_destino}}
\index{ip\_destino@{ip\_destino}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{ip\_destino}{ip\_destino}}
{\footnotesize\ttfamily std\+::string Track\+Sense\+::ip\+\_\+destino\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classTrackSense_add4526a7c931f7cbe808bd4d5fb55935}\label{classTrackSense_add4526a7c931f7cbe808bd4d5fb55935} 
\index{TrackSense@{TrackSense}!is\_exec@{is\_exec}}
\index{is\_exec@{is\_exec}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{is\_exec}{is\_exec}}
{\footnotesize\ttfamily std\+::atomic$<$bool$>$ Track\+Sense\+::is\+\_\+exec \{false\}\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classTrackSense_a6cea0d534c0c0736da12977edb09478f}\label{classTrackSense_a6cea0d534c0c0736da12977edb09478f} 
\index{TrackSense@{TrackSense}!last\_data\_given@{last\_data\_given}}
\index{last\_data\_given@{last\_data\_given}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{last\_data\_given}{last\_data\_given}}
{\footnotesize\ttfamily \mbox{\hyperlink{classTrackSense_1_1GPSData}{GPSData}} Track\+Sense\+::last\+\_\+data\+\_\+given\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classTrackSense_ab480d6378e9ed0ca993495171ff9aeab}\label{classTrackSense_ab480d6378e9ed0ca993495171ff9aeab} 
\index{TrackSense@{TrackSense}!porta\_destino@{porta\_destino}}
\index{porta\_destino@{porta\_destino}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{porta\_destino}{porta\_destino}}
{\footnotesize\ttfamily int Track\+Sense\+::porta\+\_\+destino\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classTrackSense_a95b152ab2344ef7381b868146ef0f8aa}\label{classTrackSense_a95b152ab2344ef7381b868146ef0f8aa} 
\index{TrackSense@{TrackSense}!porta\_serial@{porta\_serial}}
\index{porta\_serial@{porta\_serial}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{porta\_serial}{porta\_serial}}
{\footnotesize\ttfamily std\+::string Track\+Sense\+::porta\+\_\+serial\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classTrackSense_a8e8746954916194808e2112e3f50bcb1}\label{classTrackSense_a8e8746954916194808e2112e3f50bcb1} 
\index{TrackSense@{TrackSense}!sockfd@{sockfd}}
\index{sockfd@{sockfd}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{sockfd}{sockfd}}
{\footnotesize\ttfamily int Track\+Sense\+::sockfd\hspace{0.3cm}{\ttfamily [private]}}

\Hypertarget{classTrackSense_ae9092579ff3e13d06dc0ddab1ca1f270}\label{classTrackSense_ae9092579ff3e13d06dc0ddab1ca1f270} 
\index{TrackSense@{TrackSense}!worker@{worker}}
\index{worker@{worker}!TrackSense@{TrackSense}}
\doxysubsubsection{\texorpdfstring{worker}{worker}}
{\footnotesize\ttfamily std\+::thread Track\+Sense\+::worker\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/\mbox{\hyperlink{TrackSense_8hpp}{Track\+Sense.\+hpp}}\end{DoxyCompactItemize}
